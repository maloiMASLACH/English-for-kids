(()=>{"use strict";var e={442:(e,t,n)=>{n.r(t)},528:(e,t,n)=>{n.r(t)},70:(e,t,n)=>{n.r(t)},953:(e,t,n)=>{n.r(t)},752:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const r=n(977),o=n(642),c=n(397);class a{constructor(){this.enableChange=()=>{window.addEventListener("hashchange",(()=>{const e=window.location.hash.slice(1);a.renderPage(e)}))},this.start=()=>{sessionStorage.removeItem("firstload"),a.contaiter.append(this.header.render()),a.renderPage("main"),this.header.burgerMenu(),this.enableChange()},this.header=new r.Header("header","head-menu")}static renderPage(e){const t=document.querySelector(`#${a.defaultPage}`);t&&t.remove();let n=null;if(n="statistic"===e?new c.Statistic(e):new o.MainPage(e),n){const e=n.render();e.id=a.defaultPage,a.contaiter.append(e)}}}t.App=a,a.contaiter=document.body,a.defaultPage="current"},583:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}}},351:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0;const r=n(583);n(442);class o extends r.BaseComponent{constructor(){super("div",["card-field"]),this.cards=[],this.clearFormainPage=()=>{var e;0!==document.querySelectorAll(".cards").length&&(null===(e=document.querySelector(".cards"))||void 0===e||e.remove()),0!==document.querySelectorAll(".main-page-content").length&&document.querySelectorAll(".main-page-content").forEach((e=>{e.remove()}))},this.clearWithError=()=>{var e,t;0!==document.querySelectorAll(".cards").length&&(null===(e=document.querySelector(".cards"))||void 0===e||e.remove()),1!==document.querySelectorAll(".main-page-content").length&&(null===(t=document.querySelector(".main-page-content"))||void 0===t||t.remove())}}clear(){var e;this.cards=[],this.element.innerHTML="",1!==document.querySelectorAll(".cards").length&&(null===(e=document.querySelector(".cards"))||void 0===e||e.remove())}addCards(e){this.cards=e,this.cards.forEach((e=>this.element.appendChild(e.element)))}}t.CardsField=o},343:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function a(e){try{s(r.next(e))}catch(e){c(e)}}function i(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0;const o=n(583);n(953);class c extends o.BaseComponent{constructor(e){super("div",["card-container"]),this.card=e,this.isFlipped=!1,this.element.innerHTML=`\n     <div class="card">\n       <div class="card-front">\n        <div class="card-image"style="background-image: url('./images/${sessionStorage.current}/${e.image.split("/")[1]}')"></div>\n          <div class="card-info">\n            <p></p>\n            <p>${e.word}</p>\n            <img src="flip.png">\n        </div>\n      </div>\n        <div class="card-back">\n          <div class="card-image"style="background-image: url('./images/${sessionStorage.current}/${e.image.split("/")[1]}')"></div>\n            <p>${e.translation}<p>\n        </div>\n     </div>\n     `}audio(){return r(this,void 0,void 0,(function*(){const e=`<audio src="./audio/${sessionStorage.current}/${this.card.audioSrc.split("/")[1]}" autoplay="none"></audio>`;this.element.innerHTML+=e}))}flipToBack(){return this.isFlipped=!0,this.flip(!0)}flipToFront(){return this.isFlipped=!1,this.flip()}flip(e=!1){return new Promise((t=>{this.element.classList.toggle("flipped",e),this.element.addEventListener("transitionend",(()=>t()),{once:!0})}))}}t.Card=c},463:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout(t,e)}))}},889:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function a(e){try{s(r.next(e))}catch(e){c(e)}}function i(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;const o=n(229);t.Render=class{constructor(e){this.rootElement=e,this.game=new o.Game,this.rootElement.appendChild(this.game.element)}newGame(){return r(this,void 0,void 0,(function*(){const e=yield fetch("./test.json"),t=yield e.json();console.log(t);const n=t[sessionStorage.currentID];yield this.game.initGame(n),document.querySelectorAll(".card").forEach((e=>{var t;(null===(t=document.querySelector("input"))||void 0===t?void 0:t.checked)&&e.classList.add("active")}))}))}}},229:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const r=n(583),o=n(343),c=n(351),a=n(463);class i extends r.BaseComponent{constructor(){super(),this.isAnimation=!1,this.cardAudio=e=>{var t;null===(t=e.element.children[1])||void 0===t||t.remove(),e.audio()},this.cardHandler=e=>{a.delay(100),e.flipToBack().then((()=>{e.element.addEventListener("mouseleave",(()=>{e.flipToFront()}))}))},this.cardsField=new c.CardsField,this.element.appendChild(this.cardsField.element),this.element.className="cards"}initGame(e){var t;this.cardsField.clear(),null===(t=document.querySelector(".main-page-content"))||void 0===t||t.remove();const n=e.map((e=>new o.Card(e)));n.forEach((e=>{e.element.addEventListener("click",(t=>this.checkEvent(e,t)))})),this.cardsField.addCards(n)}checkEvent(e,t){"1"!==sessionStorage.game&&(console.log(t.target.className.toString),t.target.className===e.element.children[0].children[0].children[0].classList.value?this.cardAudio(e):this.cardHandler(e))}}t.Game=i},977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const r=n(164);n(528);const o=[{id:"main",text:"Main"},{id:"statistic",text:"Statistic"}],c=["action1","action2","animals1","animals2","cloth","emotions","sport","weather"];class a extends r.Component{burgerMenu(){var e;const t=document.querySelector("header img");(null==t?void 0:t.classList.contains("active"))?(null==t||t.addEventListener("click",(()=>{var e;t.classList.remove("active"),null===(e=document.querySelector(".burger"))||void 0===e||e.classList.remove("active"),this.burgerMenu()})),null===(e=document.querySelector(".burgerBack"))||void 0===e||e.addEventListener("click",(()=>{var e;t.classList.remove("active"),null===(e=document.querySelector(".burger"))||void 0===e||e.classList.remove("active"),this.burgerMenu()})),document.querySelectorAll(".burger p").forEach((e=>{e.addEventListener("click",(()=>{var e;t.classList.remove("active"),null===(e=document.querySelector(".burger"))||void 0===e||e.classList.remove("active"),this.burgerMenu()}))}))):null==t||t.addEventListener("click",(()=>{var e;t.classList.add("active"),null===(e=document.querySelector(".burger"))||void 0===e||e.classList.add("active"),this.burgerMenu()}))}renderHeader(){const e=document.createElement("div");e.className="burgerBack";const t=document.createElement("div");t.className="burger";let n=0;c.forEach((e=>{const r=document.createElement("p");r.innerText=e,r.id=`${n}`,n++,t.append(r)})),t.append(e);const r=document.createElement("div");o.forEach((e=>{const t=document.createElement("a");t.href=`#${e.id}`,t.innerText=e.text,r.append(t)}));const a=document.createElement("img");return a.src="united-kingdom.png",a.height=60,this.conteiner.append(t),this.conteiner.append(a),this.conteiner.append(r),this.conteiner.innerHTML+='<p>\n<label class="checkbox-green">\n  <input type="checkbox">\n  <span class="checkbox-green-switch" data-label-on="Play" data-label-off="Train"></span>\n</label>\n</p>',this.conteiner}render(){return this.renderHeader(),this.conteiner}}t.Header=a},642:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function a(e){try{s(r.next(e))}catch(e){c(e)}}function i(e){try{s(r.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MainPage=void 0;const o=n(163),c=n(889),a=n(351),i=n(463);n(70);class s extends o.Page{constructor(){super(...arguments),this.chooseCat=()=>{const e=document.querySelector("body"),t=document.querySelectorAll(".burger p");t.forEach((n=>{n.addEventListener("click",(()=>{t.forEach((e=>{e.classList.remove("currentTitle")})),n.classList.add("currentTitle"),sessionStorage.setItem("current",`${n.textContent}`),sessionStorage.setItem("currentID",`${n.id}`),e&&(new c.Render(e).newGame(),this.startBtnCheck())}))}))},this.footer=()=>{var e;const t=document.createElement("footer");t.innerHTML='\n    <p>2021</p>\n    <a href="https://github.com/maloiMASLACH"><p >My Git</p></a>\n    <a href="https://rs.school/js/"><img src="logo.png" ></a>\n    ',null===(e=document.querySelector("body"))||void 0===e||e.append(t)}}gameRes(){return r(this,void 0,void 0,(function*(){const e=document.createElement("div");e.className="result";const t=document.querySelectorAll(".starLoose").length;if(console.log(t),0!==t){const n=document.createElement("div");n.innerHTML='<audio src="failure.mp3" autoplay="autoplay"></audio>',e.append(n);const r=document.createElement("img");r.src="failure.jpg";const o=document.createElement("p");o.textContent=1===t?`${t} misstake`:`${t} misstakes`,e.append(r),e.append(o)}else{const t=document.createElement("div");t.innerHTML='<audio src="sucsess.mp3" autoplay="autoplay"></audio>',e.append(t);const n=document.createElement("img");n.src="success.jpg";const r=document.createElement("p");r.textContent="Complete",e.append(n),e.append(r)}this.conteiner.append(e),yield i.delay(2e3),yield this.renderAgain()}))}renderStar(e){var t,n;if(1===e){const e=document.createElement("img");e.className="star starWin",e.src="starWin.png",null===(t=document.querySelector(".starCon"))||void 0===t||t.append(e),8===document.querySelectorAll(".starWin").length&&this.gameRes()}if(0===e){const e=document.createElement("img");e.className="star starLoose",e.src="starLoose.png",null===(n=document.querySelector(".starCon"))||void 0===n||n.append(e)}}createSound(e,t,n){if(e===t[0]){const e=document.createElement("div");e.innerHTML=`<audio src="./audio/${sessionStorage.current}/${t[1]}.mp3" autoplay="autoplay"></audio>`,this.conteiner.append(e),n.classList.add("passed"),t.splice(0,1),this.renderStar(1)}else{const e=document.createElement("div");e.innerHTML=`<audio src="./audio/${sessionStorage.current}/${t[0]}.mp3" autoplay="autoplay"></audio>`,this.conteiner.append(e),this.renderStar(0)}}giveSoundMain(e,t){var n;const r=document.createElement("div");r.className="starCon",this.conteiner.append(r);const o=e.sort((()=>Math.random()-.5)),c=document.createElement("div");c.innerHTML=`<audio src="./audio/${sessionStorage.current}/${o[0]}.mp3" autoplay="autoplay"></audio>`,this.conteiner.append(c),console.log(o),t.forEach((e=>{e.addEventListener("click",(()=>{const t=e.children[0].children[1].children[1].textContent;console.log(t),t&&this.createSound(t,o,e)}))})),null===(n=document.querySelector(".repeatBTN"))||void 0===n||n.addEventListener("click",(()=>{const e=document.createElement("div");e.innerHTML=`<audio src="./audio/${sessionStorage.current}/${o[0]}.mp3" autoplay="autoplay"></audio>`,this.conteiner.append(e)}))}gamePlay(){const e=document.querySelector(".startBTN");null==e||e.remove();const t=document.createElement("div");t.className="repeatBTN";const n=document.createElement("p");n.textContent="REPEAT",null==t||t.append(n),this.conteiner.append(t);const r=[],o=document.querySelectorAll(".card");o.forEach((e=>{const t=e.children[0].children[1].children[1].textContent;t&&(r[r.length]=t)})),this.giveSoundMain(r,o)}startBTN(){var e;return r(this,void 0,void 0,(function*(){const t=document.createElement("div");t.className="startBTN";const n=document.createElement("p");n.innerText="START",t.append(n),this.conteiner.append(t),document.querySelectorAll(".card").forEach((e=>{e.classList.add("active")})),null===(e=document.querySelector(".startBTN"))||void 0===e||e.addEventListener("click",(()=>{sessionStorage.setItem("game","1"),this.gamePlay()}))}))}chooseCatBigMenu(){var e;null===(e=document.querySelector(".repeatBTN"))||void 0===e||e.remove();const t=document.querySelector("body");document.querySelectorAll(".main-page-content div").forEach((e=>{e.addEventListener("click",(()=>{sessionStorage.setItem("current",`${e.children[1].textContent}`),sessionStorage.setItem("currentID",`${e.children[1].id}`),document.querySelectorAll(".burger p").forEach((t=>{t.classList.remove("currentTitle"),t.textContent===e.children[1].textContent&&t.classList.add("currentTitle")})),t&&(new c.Render(t).newGame(),this.startBtnCheck())}))}))}renderPart(){var e;return r(this,void 0,void 0,(function*(){const t=document.createElement("div");t.className="main-page-content";const n=document.querySelectorAll(".burger p"),r=yield fetch("./test.json"),o=yield r.json();console.log(o[1][1].image);let c=0;n.forEach((e=>{t.innerHTML+=`\n      <div>\n      <img src="./images/${e.textContent}/${o[c][0].image.split("/")[1]}">\n        <p id=${c}>${e.textContent}</p>\n      </div>\n      `,c++})),sessionStorage.removeItem("currentWord"),null===(e=document.querySelector("body"))||void 0===e||e.append(t),this.chooseCatBigMenu()}))}renderAgain(){var e,t,n,o;return r(this,void 0,void 0,(function*(){null===(e=document.querySelector(".result"))||void 0===e||e.remove(),null===(t=document.querySelector(".starCon"))||void 0===t||t.remove(),null===(n=document.querySelector(".startBTN"))||void 0===n||n.remove(),null===(o=document.querySelector(".repeatBTN"))||void 0===o||o.remove(),yield this.renderPart(),yield(new a.CardsField).clearWithError()}))}startBtnCheck(){return r(this,void 0,void 0,(function*(){const e=document.querySelector("input");(null==e?void 0:e.checked)&&!document.querySelector(".startBTN")&&document.querySelector(".cards")&&(console.log("312"),yield this.startBTN())}))}gameMode(){return r(this,void 0,void 0,(function*(){const e=document.querySelector("input");yield null==e?void 0:e.addEventListener("click",(()=>{var t,n;e.checked&&!document.querySelector(".startBTN")&&document.querySelector(".cards")&&(console.log(null==e?void 0:e.checked),this.startBTN()),e.checked||!document.querySelector(".startBTN")&&!document.querySelector(".repeatBTN")||(null===(t=document.querySelector(".startBTN"))||void 0===t||t.remove(),null===(n=document.querySelector(".repeatBTN"))||void 0===n||n.remove(),sessionStorage.setItem("game","0"),sessionStorage.removeItem("currentWord"),document.querySelectorAll(".card").forEach((e=>{e.classList.remove("active")})))}))}))}render(){var e;sessionStorage.setItem("game","0"),null===(e=document.querySelector("a[href='#main']"))||void 0===e||e.addEventListener("click",(()=>{this.renderAgain()})),this.renderAgain();const t=this.createHeader("");return this.conteiner.append(t),this.chooseCat(),this.gameMode(),this.footer(),this.conteiner}}t.MainPage=s},397:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Statistic=void 0;const r=n(163),o=n(351);class c extends r.Page{render(){const e=document.querySelector("body");e&&((new o.CardsField).clearFormainPage(),console.log(e.children[1])),sessionStorage.setItem("maincheck","1"),console.log("31s");const t=this.createHeader("");return this.conteiner.append(t),this.conteiner}}t.Statistic=c},164:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0,t.Component=class{constructor(e,t){this.conteiner=document.createElement(e),this.conteiner.className=t}render(){return this.conteiner}}},163:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;class n{constructor(e){this.createHeader=e=>{const t=document.createElement("h1");return t.innerText=e,t},this.conteiner=document.createElement("div"),this.conteiner.id=e}render(){return this.conteiner}}t.Page=n,n.TextObg={}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={exports:{}};return e[r].call(c.exports,c,c.exports,n),c.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(new(n(752).App)).start()})();